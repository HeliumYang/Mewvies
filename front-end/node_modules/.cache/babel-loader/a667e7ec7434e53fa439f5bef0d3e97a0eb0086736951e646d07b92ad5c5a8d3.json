{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\garge\\\\OneDrive\\\\Documents\\\\GitHub\\\\Mewvies\\\\front-end\\\\src\\\\components\\\\userTools\\\\Signup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport \"./Signup.css\";\nimport \"../Button.css\";\nimport Button from \"../Button\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { db } from \"../../config/firestore\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Signup({\n  toggle,\n  updateToken\n}) {\n  _s();\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [cvv, setCvv] = useState(\"\");\n  const [expirationDate, setExpirationDate] = useState(\"\");\n  const [billingAddress, setBillingAddress] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  //  const [loading, setLoading] = useState(false);\n\n  //  const { setUserData } = useContext(UserContext);\n\n  const validateEmail = email => {\n    const validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n    return validRegex.test(email);\n  };\n  const checkEmailAvailability = async email => {\n    try {\n      const snapshot = await getDocs(collection(db, \"user\"));\n      const existingUser = snapshot.docs.find(doc => doc.data().email === email);\n      if (existingUser) {\n        setError(\"This email is already in use.\");\n        return false;\n      }\n      return true;\n    } catch (error) {\n      // catch other error\n      console.error(\"Error checking email availability:\", error);\n      setError(\"There was a problem checking email availability. Please try again.\");\n      return false;\n    }\n  };\n  const handleSignup = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      // Check if first and second passwords match\n      if (password !== confirmPassword) {\n        setError(\"Passwords do not match. Please make sure both passwords are the same.\");\n        setLoading(false);\n        return;\n      }\n\n      // Check if password is too short (6)\n      if (password.length < 6) {\n        setError(\"Password is too short. Please use a password with at least 6 characters.\");\n        setLoading(false);\n        return;\n      }\n\n      // Validate email\n      if (!validateEmail(email)) {\n        setError(\"Invalid email address.\");\n        setLoading(false);\n        return;\n      }\n      if (await checkEmailAvailability(email)) {\n        // continue with signup\n      } else {\n        setLoading(false);\n        return;\n      }\n\n      // Define new user\n      const newUser = {\n        fname: firstName,\n        lname: lastName,\n        email: email,\n        passwd: password,\n        phone: number\n      };\n\n      // resgiter as authenticated user\n      try {\n        const auth = getAuth();\n        await createUserWithEmailAndPassword(auth, email, password); //autheticated user\n\n        const docRef = await addDoc(collection(db, \"user\"), {\n          //create user entry in firestore\n          ...newUser\n        });\n        console.log(\"Document written with ID: \", docRef.id);\n      } catch (error) {\n        console.log(error);\n      }\n      setLoading(false);\n      toggle();\n    } catch (err) {\n      setLoading(false);\n      console.error(\"Signup error:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSignup,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Personal Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"First Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            value: firstName,\n            onChange: e => setFirstName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Last Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            value: lastName,\n            onChange: e => setLastName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Phone Number:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            value: number,\n            onChange: e => setNumber(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 13\n          }, this), \" Confirm password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"password\",\n            value: confirmPassword,\n            onChange: e => setConfirmPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 13\n          }, this), \"Opt in to receive promotional emails.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Financial Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), \" Card Number\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cardNumber,\n            onChange: e => setCardNumber(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), \" CVV\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cvv,\n            onChange: e => setCvv(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 13\n          }, this), \" Expiration Date\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: expirationDate,\n            onChange: e => setExpirationDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), \" Billing Address\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: billingAddress,\n            onChange: e => setBillingAddress(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"checkout-button\",\n          type: \"submit\",\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn\",\n        onClick: toggle,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n_s(Signup, \"xYticza1vUvHMy9eTdAW4Z9O0IE=\");\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useContext","Button","collection","addDoc","getDocs","getAuth","createUserWithEmailAndPassword","db","jsxDEV","_jsxDEV","Signup","toggle","updateToken","_s","firstName","setFirstName","lastName","setLastName","number","setNumber","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","cardNumber","setCardNumber","cvv","setCvv","expirationDate","setExpirationDate","billingAddress","setBillingAddress","error","setError","validateEmail","validRegex","test","checkEmailAvailability","snapshot","existingUser","docs","find","doc","data","console","handleSignup","e","preventDefault","setLoading","length","newUser","fname","lname","passwd","phone","auth","docRef","log","id","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","required","type","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["C:/Users/garge/OneDrive/Documents/GitHub/Mewvies/front-end/src/components/userTools/Signup.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport \"./Signup.css\";\r\nimport \"../Button.css\";\r\nimport Button from \"../Button\";\r\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\r\nimport { getAuth, createUserWithEmailAndPassword } from \"firebase/auth\";\r\nimport { db } from \"../../config/firestore\";\r\n\r\nfunction Signup({ toggle, updateToken }) {\r\n  const [firstName, setFirstName] = useState(\"\");\r\n  const [lastName, setLastName] = useState(\"\");\r\n  const [number, setNumber] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [cardNumber, setCardNumber] = useState(\"\");\r\n  const [cvv, setCvv] = useState(\"\");\r\n  const [expirationDate, setExpirationDate] = useState(\"\");\r\n  const [billingAddress, setBillingAddress] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n  //  const [loading, setLoading] = useState(false);\r\n\r\n  //  const { setUserData } = useContext(UserContext);\r\n\r\n  const validateEmail = (email) => {\r\n    const validRegex =\r\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\r\n    return validRegex.test(email);\r\n  };\r\n\r\n  const checkEmailAvailability = async (email) => {\r\n    try {\r\n      const snapshot = await getDocs(collection(db, \"user\"));\r\n      const existingUser = snapshot.docs.find(\r\n        (doc) => doc.data().email === email\r\n      );\r\n      if (existingUser) {\r\n        setError(\"This email is already in use.\");\r\n        return false;\r\n      }\r\n      return true;\r\n    } catch (error) {\r\n      // catch other error\r\n      console.error(\"Error checking email availability:\", error);\r\n      setError(\r\n        \"There was a problem checking email availability. Please try again.\"\r\n      );\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const handleSignup = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      // Check if first and second passwords match\r\n      if (password !== confirmPassword) {\r\n        setError(\r\n          \"Passwords do not match. Please make sure both passwords are the same.\"\r\n        );\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Check if password is too short (6)\r\n      if (password.length < 6) {\r\n        setError(\r\n          \"Password is too short. Please use a password with at least 6 characters.\"\r\n        );\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Validate email\r\n      if (!validateEmail(email)) {\r\n        setError(\"Invalid email address.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      if (await checkEmailAvailability(email)) {\r\n        // continue with signup\r\n      } else {\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      // Define new user\r\n      const newUser = {\r\n        fname: firstName,\r\n        lname: lastName,\r\n        email: email,\r\n        passwd: password,\r\n        phone: number,\r\n      };\r\n\r\n      // resgiter as authenticated user\r\n      try {\r\n        const auth = getAuth();\r\n        await createUserWithEmailAndPassword(auth, email, password); //autheticated user\r\n\r\n        const docRef = await addDoc(collection(db, \"user\"), {\r\n          //create user entry in firestore\r\n          ...newUser,\r\n        });\r\n        console.log(\"Document written with ID: \", docRef.id);\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n      setLoading(false);\r\n      toggle();\r\n    } catch (err) {\r\n      setLoading(false);\r\n      console.error(\"Signup error:\", err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"popup\">\r\n      <div className=\"popup-inner\">\r\n        <h2>Signup</h2>\r\n        {error && <p className=\"error-message\">{error}</p>}\r\n        <form onSubmit={handleSignup}>\r\n          <h3>Personal Details</h3>\r\n          <label>\r\n            First Name:\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              value={firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            Last Name:\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              value={lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            Phone Number:\r\n            <input\r\n              required\r\n              type=\"text\"\r\n              value={number}\r\n              onChange={(e) => setNumber(e.target.value)}\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            Email:\r\n            <input\r\n              required\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n          </label>\r\n          <br />\r\n          <label>\r\n            Password:\r\n            <input\r\n              required\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </label>\r\n          <label>\r\n            <br /> Confirm password:\r\n            <input\r\n              required\r\n              type=\"password\"\r\n              value={confirmPassword}\r\n              onChange={(e) => setConfirmPassword(e.target.value)}\r\n            />\r\n            <br />\r\n          </label>\r\n          <label>\r\n            <input type=\"checkbox\" />\r\n            Opt in to receive promotional emails.\r\n            <br />\r\n          </label>\r\n          <br />\r\n          <h3>Financial Details</h3>\r\n          <label>\r\n            <br /> Card Number\r\n            <input\r\n              type=\"text\"\r\n              value={cardNumber}\r\n              onChange={(e) => setCardNumber(e.target.value)}\r\n            />\r\n            <br />\r\n          </label>\r\n          <label>\r\n            <br /> CVV\r\n            <input\r\n              type=\"text\"\r\n              value={cvv}\r\n              onChange={(e) => setCvv(e.target.value)}\r\n            />\r\n            <br />\r\n          </label>\r\n          <label>\r\n            <br /> Expiration Date\r\n            <input\r\n              type=\"text\"\r\n              value={expirationDate}\r\n              onChange={(e) => setExpirationDate(e.target.value)}\r\n            />\r\n            <br />\r\n          </label>\r\n          <label>\r\n            <br /> Billing Address\r\n            <input\r\n              type=\"text\"\r\n              value={billingAddress}\r\n              onChange={(e) => setBillingAddress(e.target.value)}\r\n            />\r\n            <br />\r\n          </label>\r\n          <button className=\"checkout-button\" type=\"submit\">\r\n            Signup\r\n          </button>\r\n        </form>\r\n        <Button className=\"btn\" onClick={toggle}>\r\n          Close\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}