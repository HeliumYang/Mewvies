{"ast":null,"code":"var _jsxFileName = \"/Users/ahhchu/Desktop/school/Mewvies/front-end/src/components/userTools/Signup.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from \"react\";\nimport \"./Signup.css\";\nimport \"../Button.css\";\nimport Button from \"../Button\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\nimport { getAuth, createUserWithEmailAndPassword, sendSignInLinkToEmail } from \"firebase/auth\";\nimport { db } from \"../../config/firestore\";\n//import { getAuth, sendSignInLinkToEmail } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Signup({\n  toggle,\n  updateToken\n}) {\n  _s();\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [cvv, setCvv] = useState(\"\");\n  const [expirationDate, setExpirationDate] = useState(\"\");\n  const [billingAddress, setBillingAddress] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  //  const { setUserData } = useContext(UserContext);\n\n  const validateEmail = email => {\n    const validRegex = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n    return validRegex.test(email);\n  };\n  const checkEmailAvailability = async email => {\n    try {\n      const snapshot = await getDocs(collection(db, \"user\"));\n      const existingUser = snapshot.docs.find(doc => doc.data().email === email);\n      if (existingUser) {\n        setError(\"This email is already in use.\");\n        return false;\n      }\n      return true;\n    } catch (error) {\n      // catch other error\n      console.error(\"Error checking email availability:\", error);\n      setError(\"There was a problem checking email availability. Please try again.\");\n      return false;\n    }\n  };\n  const actionCodeSettings = {\n    // URL you want to redirect back to. The domain (www.example.com) for this\n    // URL must be in the authorized domains list in the Firebase Console.\n    url: \"https://www.example.com/finishSignUp?cartId=1234\",\n    // This must be true.\n    handleCodeInApp: true,\n    iOS: {\n      bundleId: \"com.example.ios\"\n    },\n    android: {\n      packageName: \"com.example.android\",\n      installApp: true,\n      minimumVersion: \"12\"\n    },\n    dynamicLinkDomain: \"example.page.link\"\n  };\n  const handleSignup = async e => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      // Check if first and second passwords match\n      if (password !== confirmPassword) {\n        setError(\"Passwords do not match. Please make sure both passwords are the same.\");\n        setLoading(false);\n        return;\n      }\n\n      // Check if password is too short (6)\n      if (password.length < 6) {\n        setError(\"Password is too short. Please use a password with at least 6 characters.\");\n        setLoading(false);\n        return;\n      }\n\n      // Validate email\n      if (!validateEmail(email)) {\n        setError(\"Invalid email address.\");\n        setLoading(false);\n        return;\n      }\n      if (await checkEmailAvailability(email)) {\n        // continue with signup\n      } else {\n        setLoading(false);\n        return;\n      }\n\n      // Define new user\n      const newUser = {\n        fname: firstName,\n        lname: lastName,\n        email: email,\n        passwd: password,\n        phone: number\n      };\n\n      // resgiter as authenticated user\n      try {\n        const auth = getAuth();\n        const userCred = await createUserWithEmailAndPassword(auth, email, password); //autheticated user\n\n        const user = userCred.user;\n        if (user) {\n          try {\n            await user.sendEmailVerification();\n            console.log(\"Email verification sent to:\", user.email);\n          } catch (error) {\n            console.error(\"Error sending verification email:\", error);\n            // Handle any errors gracefully\n          }\n        }\n        const docRef = await addDoc(collection(db, \"user\"), {\n          //create user entry in firestore\n          ...newUser\n        });\n        console.log(\"Document written with ID: \", docRef.id);\n      } catch (error) {\n        console.log(error);\n        console.log(\"Error signingup user: \".error);\n        setError(\"Failed to signup, please try again later.\");\n      }\n      setLoading(false);\n      toggle();\n    } catch (err) {\n      setLoading(false);\n      console.error(\"Signup error:\", err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"popup\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"popup-inner\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Signup\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSignup,\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Personal Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"First Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            value: firstName,\n            onChange: e => setFirstName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Last Name:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            value: lastName,\n            onChange: e => setLastName(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Phone Number:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"text\",\n            value: number,\n            onChange: e => setNumber(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Email:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"email\",\n            value: email,\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), \" Confirm password:\", /*#__PURE__*/_jsxDEV(\"input\", {\n            required: true,\n            type: \"password\",\n            value: confirmPassword,\n            onChange: e => setConfirmPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), \"Opt in to receive promotional emails.\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 230,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Financial Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), \" Card Number\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cardNumber,\n            onChange: e => setCardNumber(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this), \" CVV\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: cvv,\n            onChange: e => setCvv(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 13\n          }, this), \" Expiration Date\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: expirationDate,\n            onChange: e => setExpirationDate(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 13\n          }, this), \" Billing Address\", /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: billingAddress,\n            onChange: e => setBillingAddress(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 259,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"checkout-button\",\n          type: \"submit\",\n          children: \"Signup\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        className: \"btn\",\n        onClick: toggle,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n}\n_s(Signup, \"zfaKNaM8XJZATpUQ7g1Z8D2lIEY=\");\n_c = Signup;\nexport default Signup;\nvar _c;\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"names":["React","useState","useContext","Button","collection","addDoc","getDocs","getAuth","createUserWithEmailAndPassword","sendSignInLinkToEmail","db","jsxDEV","_jsxDEV","Signup","toggle","updateToken","_s","firstName","setFirstName","lastName","setLastName","number","setNumber","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","cardNumber","setCardNumber","cvv","setCvv","expirationDate","setExpirationDate","billingAddress","setBillingAddress","error","setError","loading","setLoading","validateEmail","validRegex","test","checkEmailAvailability","snapshot","existingUser","docs","find","doc","data","console","actionCodeSettings","url","handleCodeInApp","iOS","bundleId","android","packageName","installApp","minimumVersion","dynamicLinkDomain","handleSignup","e","preventDefault","length","newUser","fname","lname","passwd","phone","auth","userCred","user","sendEmailVerification","log","docRef","id","err","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","required","type","value","onChange","target","onClick","_c","$RefreshReg$"],"sources":["/Users/ahhchu/Desktop/school/Mewvies/front-end/src/components/userTools/Signup.jsx"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport \"./Signup.css\";\nimport \"../Button.css\";\nimport Button from \"../Button\";\nimport { collection, addDoc, getDocs } from \"firebase/firestore\";\nimport {\n  getAuth,\n  createUserWithEmailAndPassword,\n  sendSignInLinkToEmail,\n} from \"firebase/auth\";\nimport { db } from \"../../config/firestore\";\n//import { getAuth, sendSignInLinkToEmail } from \"firebase/auth\";\n\nfunction Signup({ toggle, updateToken }) {\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [number, setNumber] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [cardNumber, setCardNumber] = useState(\"\");\n  const [cvv, setCvv] = useState(\"\");\n  const [expirationDate, setExpirationDate] = useState(\"\");\n  const [billingAddress, setBillingAddress] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  //  const { setUserData } = useContext(UserContext);\n\n  const validateEmail = (email) => {\n    const validRegex =\n      /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/;\n    return validRegex.test(email);\n  };\n\n  const checkEmailAvailability = async (email) => {\n    try {\n      const snapshot = await getDocs(collection(db, \"user\"));\n      const existingUser = snapshot.docs.find(\n        (doc) => doc.data().email === email\n      );\n      if (existingUser) {\n        setError(\"This email is already in use.\");\n        return false;\n      }\n      return true;\n    } catch (error) {\n      // catch other error\n      console.error(\"Error checking email availability:\", error);\n      setError(\n        \"There was a problem checking email availability. Please try again.\"\n      );\n      return false;\n    }\n  };\n\n  const actionCodeSettings = {\n    // URL you want to redirect back to. The domain (www.example.com) for this\n    // URL must be in the authorized domains list in the Firebase Console.\n    url: \"https://www.example.com/finishSignUp?cartId=1234\",\n    // This must be true.\n    handleCodeInApp: true,\n    iOS: {\n      bundleId: \"com.example.ios\",\n    },\n    android: {\n      packageName: \"com.example.android\",\n      installApp: true,\n      minimumVersion: \"12\",\n    },\n    dynamicLinkDomain: \"example.page.link\",\n  };\n\n\n  const handleSignup = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      // Check if first and second passwords match\n      if (password !== confirmPassword) {\n        setError(\n          \"Passwords do not match. Please make sure both passwords are the same.\"\n        );\n        setLoading(false);\n        return;\n      }\n\n      // Check if password is too short (6)\n      if (password.length < 6) {\n        setError(\n          \"Password is too short. Please use a password with at least 6 characters.\"\n        );\n        setLoading(false);\n        return;\n      }\n\n      // Validate email\n      if (!validateEmail(email)) {\n        setError(\"Invalid email address.\");\n        setLoading(false);\n        return;\n      }\n\n      if (await checkEmailAvailability(email)) {\n        // continue with signup\n      } else {\n        setLoading(false);\n        return;\n      }\n\n      // Define new user\n      const newUser = {\n        fname: firstName,\n        lname: lastName,\n        email: email,\n        passwd: password,\n        phone: number,\n      };\n\n      // resgiter as authenticated user\n      try {\n        const auth = getAuth();\n        const userCred = await createUserWithEmailAndPassword(\n          auth,\n          email,\n          password\n        ); //autheticated user\n\n        const user = userCred.user;\n        if (user) {\n          try {\n            await user.sendEmailVerification();\n            console.log(\"Email verification sent to:\", user.email);\n          } catch (error) {\n            console.error(\"Error sending verification email:\", error);\n            // Handle any errors gracefully\n          }\n        }\n\n        const docRef = await addDoc(collection(db, \"user\"), {\n          //create user entry in firestore\n          ...newUser,\n        });\n        console.log(\"Document written with ID: \", docRef.id);\n      } catch (error) {\n        console.log(error);\n        console.log(\"Error signingup user: \".error);\n        setError(\"Failed to signup, please try again later.\");\n      }\n\n      setLoading(false);\n      toggle();\n    } catch (err) {\n      setLoading(false);\n      console.error(\"Signup error:\", err);\n    }\n  };\n\n  return (\n    <div className=\"popup\">\n      <div className=\"popup-inner\">\n        <h2>Signup</h2>\n        {error && <p className=\"error-message\">{error}</p>}\n        <form onSubmit={handleSignup}>\n          <h3>Personal Details</h3>\n          <label>\n            First Name:\n            <input\n              required\n              type=\"text\"\n              value={firstName}\n              onChange={(e) => setFirstName(e.target.value)}\n            />\n          </label>\n          <br />\n          <label>\n            Last Name:\n            <input\n              required\n              type=\"text\"\n              value={lastName}\n              onChange={(e) => setLastName(e.target.value)}\n            />\n          </label>\n          <br />\n          <label>\n            Phone Number:\n            <input\n              required\n              type=\"text\"\n              value={number}\n              onChange={(e) => setNumber(e.target.value)}\n            />\n          </label>\n          <br />\n          <label>\n            Email:\n            <input\n              required\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n            />\n          </label>\n          <br />\n          <label>\n            Password:\n            <input\n              required\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n            />\n          </label>\n          <label>\n            <br /> Confirm password:\n            <input\n              required\n              type=\"password\"\n              value={confirmPassword}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n            />\n            <br />\n          </label>\n          <label>\n            <input type=\"checkbox\" />\n            Opt in to receive promotional emails.\n            <br />\n          </label>\n          <br />\n          <h3>Financial Details</h3>\n          <label>\n            <br /> Card Number\n            <input\n              type=\"text\"\n              value={cardNumber}\n              onChange={(e) => setCardNumber(e.target.value)}\n            />\n            <br />\n          </label>\n          <label>\n            <br /> CVV\n            <input\n              type=\"text\"\n              value={cvv}\n              onChange={(e) => setCvv(e.target.value)}\n            />\n            <br />\n          </label>\n          <label>\n            <br /> Expiration Date\n            <input\n              type=\"text\"\n              value={expirationDate}\n              onChange={(e) => setExpirationDate(e.target.value)}\n            />\n            <br />\n          </label>\n          <label>\n            <br /> Billing Address\n            <input\n              type=\"text\"\n              value={billingAddress}\n              onChange={(e) => setBillingAddress(e.target.value)}\n            />\n            <br />\n          </label>\n          <button className=\"checkout-button\" type=\"submit\">\n            Signup\n          </button>\n        </form>\n        <Button className=\"btn\" onClick={toggle}>\n          Close\n        </Button>\n      </div>\n    </div>\n  );\n}\n\nexport default Signup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}